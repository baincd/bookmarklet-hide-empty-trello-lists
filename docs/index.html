<html>
	<head>
		<title>Hide Empty Trello Lists Bookmarklet</title>
		<style>
			.button { /* Courtesy https://stackoverflow.com/a/710108/4764903 */
				text-decoration: none;
				background-color: #EEEEEE;
				color: #333333;
				padding: 2px 6px 2px 6px;
				border-top: 1px solid #CCCCCC;
				border-right: 1px solid #333333;
				border-bottom: 1px solid #333333;
				border-left: 1px solid #CCCCCC;
			}
			.responsive { /* Courtesy https://www.w3schools.com/howto/howto_css_image_responsive.asp */
				max-width: 100%;
				height: auto;
			}
		</style>
	</head>
	<body>
		<style>#fork-on-github a{background:#000;color:#fff;text-decoration:none;font-family:arial,sans-serif;text-align:center;font-weight:bold;padding:5px 40px;font-size:1rem;line-height:2rem;position:relative;transition:0.5s;}#fork-on-github a:hover{background:#c11;color:#fff;}#fork-on-github a::before,#fork-on-github a::after{content:"";width:100%;display:block;position:absolute;top:1px;left:0;height:1px;background:#fff;}#fork-on-github a::after{bottom:1px;top:auto;}@media screen and (min-width:1200px){#fork-on-github{position:fixed;display:block;top:0;right:0;width:200px;overflow:hidden;height:200px;z-index:9999;}#fork-on-github a{width:200px;position:absolute;top:60px;right:-60px;transform:rotate(45deg);-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);box-shadow:4px 4px 10px rgba(0,0,0,0.8);}}</style><span id="fork-on-github"><a href="https://github.com/baincd/bookmarklet-hide-empty-trello-lists">Fork me on GitHub</a></span>

		<h1>Hide Empty Trello Lists Bookmarklet</h1>

		<span style="padding-right: 250px;">
			A <a href="https://bookmarklets.org/what-is-a-bookmarklet/">bookmarklet</a> that toggles hiding and showing empty lists on Trello boards, bringing this functionality from the Android Trello app to your desktop/laptop web browser.<p/>
		</span>

		<img class="responsive" src="example-usage.png" />

		<h4>Usage</h4>
		Follow the instructions below to add the bookmarklet to your browser.<p/>

		With the browser open to a Trello board, click the bookmark to toggle between enabling and disabling the bookmarklet.  When enabled, any Trello lists with no cards currently displayed will be hidden.<p/>
		
		<h4>Notes</h4> 
		<ul>
			<li>Only works on currently open browser tab when open to Trello.  Refreshing tab, closing tab, or navigating to another site will reset to the default Trello behavior.</li>
			<li>When enabled, the bookmarklet hides empty lists even when not filtering/searching cards.  The Trello Android app only hides empty lists when filtering.</li>
		</ul>

		<h4>Compatibility</h4>

		Tested in Firefox and Chrome desktop browsers.  May work on other browsers as well.

		<h2>Install</h2>

		Drag and drop the following button to your browser's Bookmarks Bar: <p/>

		<!-- Bookmarklet should be updated via `update-doc.sh` -->
		<a class="button" href="javascript: (function () { /* Source: https://baincd.github.io/bookmarklet-hide-empty-trello-lists */ function hasVisibleCards(list) { let listCards = list.querySelectorAll('a.list-card'); for (let i = 0; i < listCards.length; i++) { if (!listCards[i].classList.contains('hide')) { return true; } } return false; } function isResizeElement(el) { return (el && el.classList && el.classList.contains('resize-element')); } function displayEmptyLists(displayEmptyListsEnabled) { let lists = document.getElementById('board').querySelectorAll('div.js-list'); for (let i = 0; i < lists.length; i++) { const list = lists[i]; const listSibling = list.nextSibling; const displayValue = (displayEmptyListsEnabled || hasVisibleCards(lists[i]) ? 'inline-block' : 'none'); list.style.display = displayValue; /* Resize Element may be added by Trello Super Powers browser extension */ if (isResizeElement(listSibling)) { listSibling.style.display = displayValue; } } }; if (window.HIDE_EMPTY_TRELLO_LISTS_BOOKMARKLET_INTERVAL === undefined) { displayEmptyLists(false); window.HIDE_EMPTY_TRELLO_LISTS_BOOKMARKLET_INTERVAL = setInterval(displayEmptyLists, 500); } else { clearInterval(window.HIDE_EMPTY_TRELLO_LISTS_BOOKMARKLET_INTERVAL); window.HIDE_EMPTY_TRELLO_LISTS_BOOKMARKLET_INTERVAL = undefined; displayEmptyLists(true); } })(); ">
			Hide Empty Trello Lists
		</a> <p/>

		<h4>Alternate install method</h4>
		<ol>
			<li>Right click on button above and copy link</li>
			<li>Create a new bookmark in your browser using the copied link as the URL</li>
		</ol>

	</body>
</html>
